<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Kalkulator Jam + VIP Lock System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f0f0f0;
        }
        input, select, button {
            padding: 8px;
            margin: 5px 0;
            width: 100%;
        }
        .result {
            margin-top: 20px;
            font-weight: bold;
            font-size: 18px;
            transition: opacity 0.5s ease;
            opacity: 0;
        }
        .result.show {
            opacity: 1;
        }
        .success { color: green; }
        .error { color: red; }
        .vip { color: blue; font-weight: bold; }
        .fade-out { opacity: 0; transition: opacity 1s ease; }
    </style>
</head>
<body>
    <h2>Kalkulator Jam + VIP Lock System</h2>

    <label>Jam 1:</label>
    <input type="number" id="jam1">
    <label>Menit 1:</label>
    <input type="number" id="menit1">
    <label>Jam 2:</label>
    <input type="number" id="jam2">
    <label>Menit 2:</label>
    <input type="number" id="menit2">
    <label>Operasi:</label>
    <select id="operasi">
        <option value="tambah">Tambah</option>
        <option value="kurang">Kurang</option>
    </select>

    <button id="btnHitung" onclick="hitung()">Hitung</button>
    <button id="btnReset" onclick="resetForm()" disabled>Reset</button>
    <button id="btnDownload" onclick="downloadHasil()" disabled>Download Hasil</button>

    <div class="result" id="hasil"></div>

    <hr>
    <div id="vipSection">
        <h3>Insert VIP Code:</h3>
        <input type="password" id="vipcode" placeholder="Masukkan kode rahasia...">
        <button id="btnVipSubmit" onclick="cekVIP()">Submit</button>
        <div class="result" id="viphasil"></div>
    </div>

    <script>
        let hasilTerakhir = "";
        let aksesTerbuka = false;

        function hitung() {
            let jam1 = parseInt(document.getElementById("jam1").value);
            let menit1 = parseInt(document.getElementById("menit1").value);
            let jam2 = parseInt(document.getElementById("jam2").value);
            let menit2 = parseInt(document.getElementById("menit2").value);
            let operasi = document.getElementById("operasi").value;
            let hasilDiv = document.getElementById("hasil");

            hasilDiv.className = "result";
            if (
                isNaN(jam1) || isNaN(menit1) || isNaN(jam2) || isNaN(menit2) ||
                jam1 < 0 || menit1 < 0 || menit1 > 59 ||
                jam2 < 0 || menit2 < 0 || menit2 > 59
            ) {
                hasilDiv.innerHTML = 'Input tidak valid!';
                hasilDiv.classList.add("error", "show");
                hasilTerakhir = "";
                return;
            }

            let totalJam = 0, totalMenit = 0, hari = 0;
            if (operasi === "tambah") {
                totalMenit = menit1 + menit2;
                totalJam = jam1 + jam2 + Math.floor(totalMenit / 60);
                totalMenit %= 60;
                hari = Math.floor(totalJam / 24);
                totalJam %= 24;
            } else {
                let menitTotal1 = jam1 * 60 + menit1;
                let menitTotal2 = jam2 * 60 + menit2;
                let selisih = menitTotal1 - menitTotal2;
                if (selisih < 0) selisih += 24 * 60;
                hari = Math.floor(selisih / (24 * 60));
                let sisaMenit = selisih % (24 * 60);
                totalJam = Math.floor(sisaMenit / 60);
                totalMenit = sisaMenit % 60;
            }

            hasilTerakhir = "Hasil: ";
            if (hari > 0) hasilTerakhir += hari + " hari, ";
            hasilTerakhir += totalJam.toString().padStart(2, '0') + ":" + totalMenit.toString().padStart(2, '0');

            hasilDiv.innerHTML = hasilTerakhir;
            hasilDiv.classList.add("success", "show");
        }

        function resetForm() {
            if (!aksesTerbuka) {
                alert("Anda harus memasukkan kode developer!");
                return;
            }
            document.getElementById("jam1").value = "";
            document.getElementById("menit1").value = "";
            document.getElementById("jam2").value = "";
            document.getElementById("menit2").value = "";
            document.getElementById("hasil").innerHTML = "";
            document.getElementById("hasil").className = "result";
            hasilTerakhir = "";
        }

        function downloadHasil() {
            if (!aksesTerbuka) {
                alert("Anda harus memasukkan kode developer!");
                return;
            }
            if (hasilTerakhir === "") {
                alert("Belum ada hasil untuk didownload!");
                return;
            }
            let blob = new Blob([hasilTerakhir], { type: "text/plain" });
            let url = URL.createObjectURL(blob);
            let link = document.createElement("a");
            link.href = url;
            link.download = "hasil_kalkulator_jam.txt";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function cekVIP() {
            if (aksesTerbuka) return;
            let kode = document.getElementById("vipcode").value;
            let vipDiv = document.getElementById("viphasil");
            vipDiv.className = "result";
            if (kode === "550055") {
                aksesTerbuka = true;
                vipDiv.innerHTML = "Mode Developer Aktif! Semua fitur terbuka.";
                vipDiv.classList.add("vip", "show");

                document.getElementById("btnReset").disabled = false;
                document.getElementById("btnDownload").disabled = false;

                let vipSection = document.getElementById("vipSection");
                vipSection.classList.add("fade-out");
                setTimeout(() => {
                    vipSection.style.display = "none";
                }, 1000);
            } else {
                vipDiv.innerHTML = "Kode salah atau tidak valid.";
                vipDiv.classList.add("error", "show");
            }
        }
    </script>
</body>
</html>
